\providecommand{\main}{..}
\documentclass[\main/master.tex]{subfiles}
\begin{document}
\newspacing
\chapter{Methods and results}\label{chapter:Methods and results}

\section{System structure}
\subsection{Experiment setup}
\begin{figure}[htbp]
	\centering
	\fbox{\includegraphics[scale=0.35]{\main/images/4 - methods and results/setup cropped.png}}
	\caption[The experiment setup]{The experiment setup}
	\label{fig:setup}
\end{figure}
\FloatBarrier
\par\noindent
The experiment setup, shown in fig.~\ref{fig:setup}, is composed of a torsional pendulum placed inside a vacuum chamber, a tilt angle measurement system and a feedback system. The experiment setup is placed inside an acoustic box, which is not shown in the figure. The angle is measured by a laser beam deflected by the pendulum's front mirror and detected by a quadrant detector. The detector is connected to a computer by an oscilloscope through a signal amplifier. The light reflected from the pendulum mirror is reflected by a piezo driven mirror, which is tuned so that the reflected light would strike the detector's center (the PID needs a reference for error calculations). 
\par\noindent
The feedback system is composed of two LED light sources, modulated in real time by an Arduino micro-controller which is controlled by the PID feed-back loop in the computer. The LED light sources are each coupled to a side mass of the pendulum. The light is passed through the vacuum chamber through transparent windows (viewports) on the sides of the chamber. 
\par\noindent
The vacuum chamber is connected to a vacuum engine, which pumps out gas and lowers the pressure. When the desired pressure is achieved, the vacuum engine is disconnected using the valve and turned off, and the acoustic box is sealed. When the oscillations settle down to a level which could be affected by the weak torques caused by radiation pressure, the angle is read in real time by the PID algorithm, and radiation-pressure torque is exerted by the LED's flux for damping down the pendulum noises.
\subsubsection{Design of the system}
\begin{figure}[htbp]
	\centering
	\fbox{\includegraphics[scale=0.5]{\main/images/4 - methods and results/total_chamber.png}}
	\caption[Total chamber]{The system structure}
	\label{fig:Total chamber}
\end{figure}
\FloatBarrier
\par\noindent
The design of torsional pendulum and vacuum chamber, shown in fig.~\ref{fig:Total chamber}, was carried out using the software Solid Works. The torsional pendulum was manufactured by the university workshop, and the vacuum chamber was manufactured at HTC Vacuum. The assembling and the experiments were performed at the lab. The system had undergone multiple changes, and the final design of the system is hereby presented. 
\par\noindent
As shown previously (eq.~\ref{eqn:drag force2}, eq.~\ref{eqn:total Brownian energy}, eq.~\ref{eqn:heat conduction}, eq.~\ref{eqn:acoustic power}), friction, Brownian motion energy, thermal power and acoustic waves are pressure dependent and are considerably reduced by maintaining low pressure. Therefore, the torsional pendulum is placed inside a vacuum chamber. Magnetic noise is reduced by choosing low magnetic permeability materials, avoiding capacitance and using a Faraday cage. 
\par\noindent
The vacuum chamber is placed inside an acoustic box, further reducing acoustic waves and magnetic noise. In order to maintain low pressure for long periods, the system is designed to minimize the outgassing rate by both, choosing low outgassing materials and avoiding air pockets inside the devices. 
\subsection{Vacuum chamber design}
\begin{figure}[htbp]
	\centering
	\fbox{\includegraphics[scale=0.5]{\main/images/4 - methods and results/chamber_front_names.png}}
	\caption[Vacuum chamber, front view]{Vacuum chamber, front view}
	\label{fig:chamber front}
\end{figure}
\FloatBarrier
\par\noindent
The vacuum chamber, shown in fig.~\ref{fig:chamber front}, is composed of two cylindrical tubes placed one over the other, with light guides and three viewports in front. The chamber is connected to a vacuum engine and gauge. The vacuum engine is connected to the chamber through a valve. The measurements are conducted when the valve is closed and the engine is off, to prevent rotation noise.
\subsubsection{Chamber viewports}
\par\noindent
The lower tube has three viewports. The central viewport is located in front of the pendulum's front mirror. The central viewport has a $68.3 [mm]$ view diameter where the mirror is located $82 [mm]$ away, giving a measurement FOV of about $39^0$ degrees. The other two small viewports are located in front of the pendulum's side masses and they are used for damping down the pendulum noises. They are connected to the chamber through light guides. The view ports are transparent for light in the $550-1100 [nm]$ range, with about 98$\%$ power transmittance in this range. 
\subsubsection{Vacuum maintenance}
\par\noindent
Due to the measurement sensitivity, the vacuum engine pumping must be off during measurement. Accordingly, the main limitations to the maintenance of low pressure are the leakage $Q_L$ from the outside (eq.~\ref{eqn:leak rate}) and the outgassing $Q_{des}$ inside the chamber (eq.~\ref{eqn:desorption rate}), thus increasing the pressure at a constant rate over time. Due to the pendulum's shape and size, the vacuum chamber has large volume (high leak rate) and large surface area (high outgassing rate). 
\par\noindent
In order to minimize the pressure increase rate, the vacuum chamber is built using CF components which are designed for ultra high vacuum, and minimize the leak rate. Also, to reduce outgassing, the torsional pendulum and vacuum chamber were baked-out at $120 C^0$ for a week, using resistive wire. 
\par\noindent
The chamber volume is $V = 4.75\cdot 10^{-4}[m^3]$, and the measured pressure during the experiments is $P \approx 1\cdot 10^{âˆ’2} [pa]$ after cooling down, for a month without pumping with the vacuum engine.
\subsection{Torsional pendulum design}
 
\begin{figure}[htbp]
	\centering
	\fbox{\includegraphics[scale=0.3]{\main/images/4 - methods and results/pendulum_front_names.png}}
	\caption[Torsional pendulum, front view]{Torsional pendulum, front view}
	\label{fig:pendulum front}
\end{figure}
\FloatBarrier
\par\noindent
The torsional pendulum design, shown in fig.~\ref{fig:pendulum front}, is composed of a thin rod with the length $2l$, string with the length $h$, two identical masses $m$ on the sides, a front mirror and a balancing mass to balance the center of mass. 
\begin{figure}[htbp]
	\centering
	\fbox{\includegraphics[scale=1.2]{\main/images/4 - methods and results/pendulum_top.JPG}}
	\caption[The torsional pendulum, top view]{The torsional pendulum, top view}
	\label{fig:pendulum top}
\end{figure}
\FloatBarrier 
\par\noindent
The center of mass is balanced using a balancing mass with similar shape and weight as the mirror on the other side, as shown in fig.~\ref{fig:pendulum top}. The balancing mass and the mirror are connected from their centers to the pendulum by a beam with length $w$, thus the overall downward torque $\tau_z$ with tilt angle $\phi$ is given by:
\begin{equation}
\tau_z = r_1\cdot m_1 g \cdot cos\phi - r_2\cdot m_2 g \cdot cos \phi\ = g\cdot cos\phi( m_1 r_1  - m_2 (w-r_1) )    \label{eqn:downward torque}
\end{equation}
where $m_1$, $m_2$ are the masses of the mirror and the balancing mass, and $r_1$, $r_2$ are their distance from the pendulum's center of mass respectively. The beam allows to cancel out the torque $\tau_z$ by accurate adjustment of the distance $r_1$, given by: 
\begin{equation}
 r_1 = \frac{w}{\frac{m_1}{m_2}+1}  \label{eqn:downward torque cancelled}
\end{equation}
\subsubsection{Adjustable mount}
\begin{figure}[htbp]
	\centering
	\fbox{\includegraphics[scale=0.2]{\main/images/4 - methods and results/mount.png}}
	\caption[The pendulum mount]{The pendulum mount}
	\label{fig:mount}
\end{figure}
\par\noindent
The adjustable mount, shown in fig.~\ref{fig:Total chamber}, is used for adjusting the height, distance and angle of the torsional pendulum. The torsional pendulum string is held by the adjustable mount from the upper tube of the vacuum, placing it accurately in front of the viewports. 

\subsubsection{Design constraints}
\par\noindent
The chosen pendulum dimensions are designed to achieve large angle sensitivity to the torque caused by the gravity field (small string torsion coefficient $\kappa$ is needed, see eq.~\ref{eqn:theta average}) while maintaining large angle sensitivity to the measured mass (longer oscillation time period $T$, see eq.~\ref{eqn:theta average}). For a torsional pendulum with moment of inertia $I$ and string torsion coefficient $\kappa$, the oscillation time period $T$ is given by (eq.~\ref{eqn:undamped_omega}): 
\begin{equation}
T = 2\pi\sqrt{\frac{I}{\kappa}}  =  2\pi\sqrt{\frac{I}{\frac{G}{h} \frac{\pi d^4}{32}}}  \label{eqn:undamped_motion_equation_4}
\end{equation}
\par\noindent
According to eq.~\ref{eqn:undamped_motion_equation_4}, longer string length $h$ with smaller diameter $d$, results in small string torsion coefficient while having a large period time.
\par\noindent
The string is made of tungsten that is both vacuum compatible (material with low outgassing) and has high tensile strength, holding the pendulum robustly inside the vacuum chamber while maintaining small string diameter. 
\par\noindent
In order to minimize the magnetic noise in the measurements, the torsional pendulum is made out of stainless steel 316 (instead of stainless steel 304) which has low magnetic permeability \cite{SS316}, and the chosen front mirror is made fully of oxygen-free copper (OFC) instead of coated glass, thus preventing charges. 
\subsubsection{Technical information}
The designed elements specifications are:
\begin{multicols}{2}
\raggedcolumns
\begin{easylist}
& Torsional beam;
&& Stainless steel 316
&& length $2l=0.218 [m]$
&& cross section $A =1.14\cdot10^{-2}[m^2]$
&& mass weight $20.5\cdot10^{-3} [kg]$
&& total weight $m_1=150\cdot10^{-3} [kg]$
%& Mirror;
%&& OFC, gold coated
%&& diameter of 1 inch
\end{easylist}
\columnbreak
\begin{easylist}
& Tungsten string;
&& 99.95\% pure Tungsten
&& shear modulus $G = 130-160 [Gpa]$ \cite{tungsten}
&& length $h= 0.249 [m]$
&& diameter $d=80\cdot10^{-6}[m]$
\end{easylist}
\end{multicols}
\subsection{Torsional motion}
Friction and the pressure-dependent noises (Brownian motion, thermal flow and acoustic waves) are reduced by the lowered pressure. The measurement system is placed inside an acoustic box, further reducing the acoustic power and also reducing magnetic noise as a Faraday cage (eq.~\ref{eqn:skin depth}). 
\par\noindent
The acoustic box is a Faraday cage with 76 mm thickness, blocking magnetic fields with frequencies $f \ge 30 [Hz]$ from the environment. The vacuum chamber is a second cage that further blocks magnetic noise from the electronic system placed inside the acoustic box. The vacuum chamber is made out of approximately 3 mm thick stainless steel, blocking magnetic fields with frequencies $f\ge 20 [KHz]$ and reducing magnetic noise with lower frequencies.
\par\noindent
Initially the torsional pendulum is a driven oscillator (eq.~\ref{eqn:driven_motion_equation_2}) driven by small torques, consisting of black body radiation and the pressure-dependent noises. Gradually, the pressure-dependent friction damps down the velosity, until the pendulum reaches an amplitude at which the friction is equal to the driving noises. The equilibrium amplitude is independent of the initial amplitude, but dependent on the pressure and temperature. Due to the low pressure, the damping of the friction is very slow. After 8 hours of damping, the torsional pendulum reaches equilibrium with a measured amplitude of $\theta_{max}^{eq}\approx 10 [\mu rad]$ (the same result is achieved also after a week). From the long damping time it can be shown that the friction coefficient is very small, allowing to neglect the friction at small amplitudes.
\par\noindent
Except for the torsional mode (in which we are interested) there is also a bouncing mode with a period of $T_b\approx 2\pi\sqrt{\frac{h}{g}}\approx 1[s]$. The bouncing mode masks the measurement, and is filtered out in real time, using a low-pass filter.  
\par\noindent
\subsection{results}
The system measured results compared to the expected results from the equations are given by:
\begin{multicols}{2}
\raggedcolumns
\begin{easylist}
& expected;
&& $I = 0.487\cdot10^{-3}[kg\cdot m^2]$ (see eq.~\ref{eqn:moment_inertia})
&& $T = 96[s] - 86 [s]$ (see eq.~\ref{eqn:undamped_motion_equation_4})
&& $\kappa = 2.1\cdot10^{-6}[\frac{N\cdot m}{rad}] - 2.6\cdot10^{-6} [\frac{N\cdot m}{rad}]$ 
\end{easylist}
\columnbreak
\begin{easylist}
& measured;
&& $T = 84[s]$
&& $\kappa = 2.7\cdot10^{-6}[\frac{N\cdot m}{rad}]$
&& $\theta_{max}^{eq} \approx 10 [\mu rad]$
\end{easylist}
\end{multicols}
The expected $\kappa$, $T$ have a range due to uncertainty of the string tensile strength $G$. The measured $\kappa$ is estimated from eq.~\ref{eqn:undamped_motion_equation_4} Bwith the measured period $T$. The equilibrium amplitude $\theta_{max}^{eq}$ is an experimental value, dependent on the amount of noise actually reduced, thus it does not have an expected simulated value.

\section{Proportionalâ€“Integralâ€“Derivative (PID) controller}
\subsection{Control stability}
The PID feed-back loop continuously calculates the error value of the measured signal from a defined set point, which is the deviation of the pendulum amplitude from a $SP$ angle $e(t) =SP -\theta(t) $. The PID aims to reach the $SP$ with critical damping of the process (the torsional pendulum) by damping the error to zero. 
\par\noindent
In control theory there are two desired conflicting properties; an accurate response (small overshoot), and small risetime (fast response). A PID control does not guarantee optimal control or stability of the process. When PID is not tuned correctly, it can either overshoot or have a slow response, both resulting in a driven oscillator. The PID response to error (shown in eq.~\ref{eqn:PID response}) defines how much will the oscillator overshoot the $SP$.
\par\noindent
Overshoot is when the value of output signal (the actual response) exceeds the target value (the desired response), thus the response is not accurate. The overshoot of a second order system is given by:
\begin{equation}
overshoot =  \frac{output-target}{target} = e ^{\frac{-\xi\pi}{\sqrt{1-\xi^2}}}  \label{eqn:overshoot}
\end{equation}
\par\noindent
where $\xi$ is the damping ratio of the oscillator defined in eq.~\ref{eqn:system damping ratio}. As seen in eq.~\ref{eqn:overshoot} when the PID gains are too high, instead of critical damping there is overdamping, which causes overshoot. Due to the high gains the overshoot response overshoots again to the other side, causing the system to be an undesired driven oscillator (shown in eq.~\ref{eqn:driven_motion_equation_2}). A slow response causes phase delay between the signal and the equivalent PID response, resulting again in a driven oscillator.
\subsection{Damped oscillator}
The torsional pendulum is a simple harmonic oscillator with oscillations amplitude $\theta_{max}$ and velocity given by $\dot{\theta}(t) =\frac{2\pi}{T} \theta_{max}( t)$ (see eq.~\ref{eqn:undamped_motion_equation_solved}). The PID mainly acts as friction, gradually slowing the oscillations velocity, with a torque $\tau_{PID}$ given by:
\begin{equation}
\tau_{PID}(t) = -\gamma\dot{e}(t) =  -\gamma\cdot [\dot{SP} -\dot{\theta}(t)] =-\gamma\cdot [0-\dot{\theta}(t)]  =  \gamma\dot{\theta}(t) =  \gamma\frac{2\pi}{T} \theta_{max}( t) 
\label{eqn:friction_torque_pid}
\end{equation}
\par\noindent
Accordingly, the PID damping coefficient $\gamma$ is given by (eq.~\ref{eqn:damped_motion_equation}):
\begin{equation}
\gamma  =  \frac{\tau_{PID}(t)}{\frac{2\pi}{T} \theta_{max}( t) } =\frac{\tau_{max}}{\theta_{max}}\cdot \frac{ T}{2\pi}          \label{eqn:pid damping coefficient}
\end{equation}
where $\tau_{max}$ is the maximal torque exerted by the PID. When damping using the PID, the damping type, defined by the damping ratio $\xi$, and the damping time $\tau$, are given by (eq.~\ref{eqn:damping_time}):
\begin{equation}
\xi = \frac{T}{2 \pi \tau } =  \frac{T}{2 \pi  }\frac{\gamma}{2I}  = \frac{ \tau_{max}}{\theta_{max}} \cdot \frac{T^2}{8\pi^2 I}  \label{eqn:damping_time_pid}
\end{equation}
The damping coefficient $\gamma$, the damping time $\tau$, and the damping type, depend on the ratio $\frac{\theta_{max}}{\tau_{max}}$. When torque is too small compared to the amplitude, the damping affect is negligible, resulting in a highly underdamped oscillator ($\xi << 1$) with infinite damping time (eq.~\ref{eqn:underdamped_motion_equation}). The PID torque $\tau_{max} $ is given by:
\begin{equation}
\tau_{max} (\xi ,\theta_{max})=\xi\cdot\theta_{max}\frac{ 8 \pi^2 I }{T^2} \approx  0.5[pico-N\cdot m]
\label{eqn:damping_torque_pid}
\end{equation}


The PID must be able to exert torques which would not result in a negligible damping ($\xi \geq 10^{-2} $). 
 at the equilibrium amplitude 
\par\noindent
As the tourqe is getting larger compared to the amplitude (due to oscillations getting smaller), the damping process is getting closer to being able to critically damp the oscillator.
Since, the torque is proportional to the oscillations velocity (eq.~\ref{eqn:friction_torque_pid}), it needs a high modulation frequency compared to the oscillations frequency (to prevent phase delay), and high modulation range compared to the amplitude (to avoid overshoot). 
\subsection{Radiation-pressure torque}
The PID torque was chosen to be a radiation-pressure torque. The setup is composed of two light sources in front of the two torsional pendulum sides, each with flux modulated in time differently $\Theta_i(t)$. As seen in eq.~\ref{eqn:net_gravitation_torque}, the difference between two torques adds an external net torque. Assuming both light fields are very close to being perpendicular to the surface with negligible incidence angles $\alpha_1\approx\alpha_2\approx 0$ and have the same coupling efficiency $\eta$, using eq.~\ref{eqn:radiation_force_power}, the radiation-pressure net torque $\tau(t)$ is:  
\begin{equation}
\tau(t) = l\cdot F_1(t) \cdot cos\alpha_1 - l\cdot F_2(t) \cdot cos\alpha_2\approx l(F_1(t) - F_2(t)) \approx \frac{2l\eta}{{c}} \Delta \Theta(t) \label{eqn:radiation torque}
\end{equation}
The radiation-pressure net torque is controlled by changing the difference between the light sources' flux $\Delta \Theta(t)$. The maximal tourqe $\tau_{max}$ (eq.~\ref{eqn:damping_torque_pid}) is at the maximal difference $\pm \Theta_{max}$. Thus, the needed flux for critical damping with optical setup efficiency $\eta$ is given by: 
\begin{equation}
\eta\Theta_{max} \geq \frac{\tau_{max}}{\frac{2 l}{c}}\approx \frac{5.45\cdot10^{-11}}{\frac{ 0.218}{3\cdot10^{8}}}\approx 75 [mW]
\label{eqn:max radiation torque}
\end{equation}

\subsection{Laser setup}
Initially, the modulated light sources were composed of a single laser diode coupled in series into two acousto optic modulators (AOM), with special filtered mode using optical fibers. The AOMs divided the single coherent light beam into two beams, with the intensity ratio modulated, resulting in controlled modulation of the difference between the light sources.
\par\noindent
The apparatus had modulation range of $10000$ steps and modulation frequency of $1 [Hz]$. The setup minimized uncertainties of the light intensity, since both light sources had a mutual source, partially cancelling internal noises, such as thermal and shot noise. 
\par\noindent
The apparatus uncertainty, due to the non linearity of the AOM response and laser power fluctuations, proved to be larger than the uncertainties of the intensity difference. Also, modulation frequency proved to be more important than modulation range. Due to the conclusions, the PID torque was changed to two controlled light emitting diode (LED) sources.
\subsection{Light emitting diode (LED)}
The light emitting diode (LED) is a semiconductor light source with high power and long lifetime. A forward voltage applied to a p-n junction, causes electron injection which recombines with holes. The recombination releases energy in form of spontaneously emitted photons (incoherent light). Due to the electrons' life time inside, the LED can be modulated up to $100MHz$. The LED forward voltage is given by the Shockley diode equation for p-n junctions, $V_l \approx n V_T ln10 log_{10} (\frac{I_l}{I_s})$, where $I_l$ is the LED current, $I_s$ is the saturation current, $n$ is the emission coefficient, and $V_T$ is the thermal voltage. 
\par\noindent
Since $V_l$ varies as the logarithm of the current, it is approximately constant over wide current range. In the driving circuit, a resistor $R$ is connected in series with the LED, stabilizing the current. The LED light flux with circuit of $N$ voltage supplies $V$ in parallel, is given by:
\begin{equation}
\Theta = I_l\cdot V_l  =\frac{N\cdot V-V_l}{R}\cdot V_l\approx \frac{N\cdot V_l\cdot V}{R}\label{eqn:led power}
\end{equation}
\par\noindent
The LED illumination angle varies between $45^0-120^0$. Since emitted light is incoherent, it is hard to focus it to a point (not diffraction limited). In order to overcome the large illumination angle, the LED light sources are coupled to light guides (the vacuum chamber viewports were designed to have light guides in front). A light guide is a pipe made of thin filaments causing internal reflections, designed to illuminate small areas, regardless of the spectral characteristics of the light source. The light guide efficiency $\eta$ is dependent mainly on its cross section. 

\subsection{Arduino microcontroller}
\begin{figure}[htbp]
	\centering
	\fbox{\includegraphics[scale=0.11]{\main/images/4 - methods and results/duty_cycle.png}}
	\caption[The PWM analog voltage]{The PWM analog voltage}
	\label{fig:duty_cycle}
\end{figure}
%\FloatBarrier
\par\noindent
The Arduino Mega 2560 is an inexpensive 8-bit microcontroller with $16 [MHz]$ clock and multiple Pulse Width Modulation (PWM) analog outputs, which use a digital output of $V_d = 5[V]$. As shown in fig.~\ref{fig:duty_cycle}, the controller switches the output signal on and off, generating a square wave with period $T$. Pulse width ($PW$) is the time duration in which the signal is on. The controller is able to modulate the $PW$, and thus change the duty cycle which is the ratio of time during which the signal is on compared to off; $D(t) = \frac{PW(t)\cdot 100}{T}$. The PWM is proportional to the analog average voltage $V_a$ given by: 
\begin{equation}
V_a(t) = \frac{ PW(t)\cdot V_d}{ T}  = \frac{V_d}{100}\cdot D(t)   \label{eqn:pwm voltage}
\end{equation}
Since the Arduino clock is connected to all PWM pins, they are all synchronized and have the same voltage, frequency and phase, allowing to connect them in parallel. The clock must have at least 120 periods of square waves before it can change to a new duty cycle value, thus limiting the voltage modulation frequency. Another limitation to the duty cycle change rate is the controller bit-rate. Accordingly, PWM maximal frequency is given by:
\begin{equation}
f_{PWM} = \frac{1 }{120T}= \frac{1 }{120 \frac{8-bit }{16MHz}}  \approx 500[Hz]	    \label{eqn:pwm frequency}
\end{equation}

\subsection{LED circuit}
The LED circuits are each composed of a blue LED with $V_l\approx 5V$, with $N=6$ parallel PWM pins for the supply voltage (eq.~\ref{eqn:pwm voltage}) and resistor $R = 200\Omega$. Due to coupling efficiency and size difference between the output beam from the lightguide and the pendulum sides, the efficiency of flux hitting the pendulum is estimated $\eta \approx 0.05$ (it is also later calculated from the damping coefficient of the results, see eq.~\ref{eqn:pid damping coefficient}). Thus with LED flux given by eq.~\ref{eqn:led power}, the PID torque $\tau_{PID}(t)$ is given by (eq.~\ref{eqn:radiation torque}):
\begin{equation}
\tau_{PID}(t) \approx \frac{2l\eta}{{c}} (\Theta_1(t) -\Theta_2(t)) \approx \frac{2l\eta}{{c}} \cdot\frac{N V_l V_d}{100R}(D_1(t) -D_2(t))  \approx   3\cdot 10^{-13}(D_1(t) -D_2(t)) 
\label{eqn:led torque}
\end{equation}
\par\noindent
The torque is controlled by the duty cycle $D(t)$ varying between $0-100$ with 8bit resolution, thus generating torques up to $\tau = \pm 30 [pico-N\cdot m]$ with modulation steps of $\Delta\tau = 0.15 [pico-N\cdot m]$ and modulation frequency of $f \leq 500[Hz]$ (see eq.~\ref{eqn:pwm frequency}). The LED light source has an approximately linear response which minimizes the overshoot, and a fast response which minimizes the phase delay.
\newpage
\section{Results} 
\begin{figure}[htbp]
	\centering
	\fbox{\includegraphics[scale=0.3]{\main/images/4 - methods and results/actual system_crop.jpg}}
	\caption[Measurement setup]{Measurement setup}
	\label{fig:actual system}
\end{figure}
\FloatBarrier
The measurement setup inside the acoustic box after assembly is shown in fig.~\ref{fig:actual system}. Using the PID we are able to damp down the torsional pendulum oscillations, as demonstrated in fig.~\ref{fig:measured oscillation angle}. The measured oscillations amplitudes are the RMS value of the oscillations. Since the damping is depended on the amplitude size (eq.~\ref{eqn:pid damping coefficient}), the damping accelerates as the amplitude gets smaller. The damping time from amplitude of $\theta_{max} = 60 [\mu rad] $ to $\theta_{max} = 10[\mu rad] $ is $3700[s]$, compares to a damping time of $250[s]$ to reach an amplitude of $\theta_{max} = 0.2[\mu rad]$.

\begin{figure}[htbp]
	\centering
	\fbox{\includegraphics[scale=0.26]{\main/images/4 - methods and results/measured oscillation angle.png}}
	\caption[Damped torsional pendulum oscillations]{Damped torsional pendulum oscillations}
	\label{fig:measured oscillation angle}
\end{figure}
\FloatBarrier
\par\noindent
Shown in fig.~\ref{fig:measured oscillation angle 1} are the torsional pendulum damped oscillations. The PID is able to damp up to an amplitude of $\theta_{max}^{PID}= 0.05[\mu rad]$ with an (RMS) amplitude kept by the PID over time of $\overline{\theta_{max}^{PID}} = 0.2 [\mu rad]$. Having a constant amplitude over time, allows to integrate over the results. The damping is limited due to the PID tourqe power, noise, phase delay (from filtering the bouncing mode of the torsional pendulum), or not having the right PID tuning parameters (which are achieved experimentally).
\begin{figure}[htbp]
	\centering
	\fbox{\includegraphics[scale=0.27]{\main/images/4 - methods and results/measured oscillation angle1.png}}
	\caption[The torsional pendulum minimal damped angle]{The torsional pendulum minimal damped angle}
	\label{fig:measured oscillation angle 1}
\end{figure}
\FloatBarrier


\subsection{Quality factor (Q)}
The quality factor ($Q$) is a dimensionless parameter describing how underdamped the oscillator is. It is defined as the ratio of the maximum energy $U$ stored in the oscillator to the energy dissipated per cycle of oscillation. When $Q > 0.5$ the oscillator is underdamped, $Q = 0.5$ critically damped and over damped when $Q < 0.5$.
\par\noindent
Assuming negligible air friction, the energy lost in one cycle  $W_T$ is the work done at the cycle, which is the difference between the PID work and the environment coupled noise power $p$. The maximum energy per cycle stored in the damped torsional pendulum can be approximated to the energy stored in the torsional pendulum while having harmonic motion with the same amplitude. The torsional pendulum quality factor $Q$ is given by:
\begin{equation}
Q = 2\pi\cdot \frac{U}{W_T}=  \frac{2\pi\cdot(\frac{\kappa\cdot\theta(t)^2}{2}+\frac{I\cdot\dot{\theta}(t)^2}{2})}{\int_0^T[\tau_{PID}(t)\cdot\dot{\theta}(t) - p]dt} = \frac{\pi\cdot(\kappa\theta_{max}^2cos^2(\omega t)+I\omega^2\theta_{max}^2sin^2(\omega t) }{\int_0^T[\frac{\tau_{max} }{\theta_{max}} \frac{ T}{2\pi}(\frac{2\pi}{T}\theta_{max})^2 sin(\frac{2\pi}{T}t)dt-p] dt }
\label{eqn:Q}
\end{equation}
Assuming the equivalent coupled noise power at the cycle is independent of time (mainly temperature and pressure dependent), the torsional pendulum quality factor $Q$ is given by:
\begin{equation}
Q(\theta_{max},p) =  \frac{\pi\cdot(\kappa\theta_{max}^2cos^2(0)+I\omega^2\theta_{max}^2sin^2( 0) }{\frac{\tau_{max} }{\theta_{max}} \frac{ T}{2\pi}(\frac{2\pi}{T}\theta_{max})^2\int_0^T sin(\frac{2\pi}{T}t)dt-p\int_0^T dt }  =  \frac{\pi\kappa\theta_{max}^2}{T\cdot(\frac{\theta_{max}\pi\tau_{max}}{T} -p)} 
\label{eqn:Q}
\end{equation}
The damping would have a non negligible effect on the motion when the oscillator is not highly underdamped $Q < 1$. It can be seen from eq.~\ref{eqn:Q} that $Q$ is highly dependent on the amplitude size, resulting with a maximal size of the oscillations amplitude the PID is able to have a non negligible effect. Even when assuming no coupled noises ($p=0$), the amplitudes with which the damping affects the motion are limited to being smaller than:  
\begin{equation}
\theta_{max}(Q<1,p=0) < \frac{\tau_{max}}{\kappa} \approx \frac{30\cdot 10^{-12}}{2.7\cdot 10^{-6}} \approx 10 [\mu rad]
\label{eqn:low Q}
\end{equation}

It can be seen from eq.~\ref{eqn:Q} that when $Q<0$ the coupled noise power is larger than the work done by the PID, causing the oscillator to be driven. When assuming the noise power is the limiting factor of the damping, one can estimate the coupled noise power from the measured damped amplitude of the torsional pendulum $p \rightarrow \frac{ \theta_{max}^{PID}\pi\tau_{max}}{T}$, resulting with $Q(\theta_{max}^{PID},p)	\rightarrow 0$. Fig.~\ref{fig:Q factor} is a plot of $Q(\theta_{max},p)$, with the estimated coupled noise powers  of $p= 8\cdot 10^{-18} - 1\cdot 10^{-18} [W]$, which result  with $Q(\theta_{max}^{PID},p) \rightarrow 0$ at the actual measured damped amplitudes of $\theta_{max}^{PID}= 0.2 [\mu rad] -0.05 [\mu rad]$.

\begin{figure}[htbp]
	\centering
	\fbox{\includegraphics[scale=0.2]{\main/images/4 - methods and results/Q factor.png}}
	\caption[The torsional pendulum Q factor]{The torsional pendulum Q factor}
	\label{fig:Q factor}
\end{figure} 

\subsection{Noise power}
Due to Brownian motion, we estimate $n_p= \frac{N}{V}v A$ gas particles collisions per second into the cross section of the torsional pendulum. Each gas particle is with mass $m_0 = \frac{M}{N_A}$ and mean velosity of the gas flow $v$ (eq.~\ref{eqn:flow velocity}). Assuming all collisions are elastic, the particles exchange mean momentum of $k=2m_0v$, resulting in a force $F = n_p\cdot k$. Due to the collisions, the velosity of the torsional pendulum with mass $m_1$ is $ u =\frac{ n_p k}{m_1}$, resulting in a power, $p$, given by:
\begin{equation}
p = F\cdot u =  n_p k \cdot n_p\frac{k}{m_1} =\frac{4}{m_1}(\frac{N}{V}v A)^2m_0^2v^2=\frac{4A^2}{m_1}(\frac{P}{k_B T})^2(\frac{M}{N_A})^2 (\frac{3 k_B N_A T}{M})^2 =\frac{36A^2P^2}{m_1} 
\label{eqn:Brownian power}
\end{equation}

Assuming gas and environment temperature of $T = 298K$ and torsional pendulum temperature $T_0 = 0K$ (maximal noise power), the noise power is given by:
\begin{multicols}{2}
\raggedcolumns
\begin{easylist}
& Thermal flow (eq.~\ref{eqn:heat conduction});
&& $p=0.083[W]$
& Black body radiation (eq.~\ref{eqn: Stefanâ€“Boltzmann power}, \cite{WOODS201444});
&& $p=0.121[W]$
\end{easylist}
\columnbreak
\begin{easylist}
& Brownian motion (eq.~\ref{eqn:Brownian power});
&& $p=6.2\cdot 10^{-6}[W]$
& Acoustic waves (eq.~\ref{eqn:acoustic power});
&& $p=1.1\cdot 10^{-28}[W]$
\end{easylist}
\end{multicols}
\par\noindent
Even at room temperature the power from Brownian motion is much larger than estimated previously ($p= 8\cdot 10^{-18} - 1\cdot 10^{-18} [W]$). This leads to estimate the effective driving noise only as the effective collision power and not the total energy power coupled to the system. 
\par\noindent
Thus, the thermal flow does not couple noise into the system, and the effective noise power is composed of Brownian motion, acoustic waves and black body radiation. The Brownian motion and black body radiation are both treated as random processes, where the noise coupled by black body radiation is a radiation force caused by the photons colliding into the torsional pendulum. 
\subsubsection{Random motion}
Due to random motion, $n_p$ particles collide per second into cross section $A$ of the torsional pendulum. Random motion can be modelled as a Poisson process, and the effective collision rate is the square root of the number of events $n_{col} = \sqrt{n_p}$. Each particle exchanges momentum $k$, resulting in a force $F = n_{col}\cdot k$. Due to the collisions the velosity the torsional pendulum is $ u = \frac{n_{col}k}{m_1}$, resulting with power $p_{eff}$ given by:
\begin{equation}
p_{eff} = F\cdot u =  n_{col}k \cdot n_{col}\frac{k}{m_1} =  n_p\frac{ k^2}{m_1}
\label{eqn:net power}
\end{equation}
The Brownian motion collision power is given in eq.~\ref{eqn:Brownian power}. Thus, the effective Brownian power $p_{eff}$, is given by:
\begin{equation}
p_{eff} =  n_p\frac{ k^2}{m_1} = \frac{p}{n_p} = \frac{\frac{36A^2P^2}{m_1}}{\frac{N}{V}v A} = \frac{12AP}{m_1}\sqrt{\frac{3 k_B T M}{ N_A }}\approx 3.8\cdot 10^{-21}AP
\label{eqn:Brownian net power}
\end{equation}
There are photons colliding into the torsional pendulum due to black body radiation from (see eq.~\ref{eqn: Stefanâ€“Boltzmann power}). It can be shown that the mean energy of a black body photon is $\overline{E}\approx 2.7k_B T$, where $T$ is the environment temperature (room temperature). The incident photons are composed of reflected flux $j_{ref}=(1-\epsilon)\sigma T^4$ each with elastic collision and momentum of $k_{ref} = \frac{2\overline{E}}{c} $, and absorbed flux $j_{ab}=\epsilon\sigma T^4$ each with momentum of $k_{ab} = \frac{\overline{E}}{c}$. At each flux the number of photon collisions is given by $n_p = \frac{j}{\overline{E}}A$, resulting in an effective power $p_{eff}$ given by:
\begin{equation}
p_{eff}  \approx \frac{j_{ref}}{\overline{E}}A\cdot\frac{ (\frac{2\overline{E}}{c})^2}{m_1} +\frac{j_{ab}}{\overline{E}}A\cdot\frac{ (\frac{\overline{E}}{c})^2}{m_1} = \frac{  2.7 A k_B T }{ c^2 m_1} (4j_{ref}+j_{ab}) =\frac{2.7A k_B}{ c^2 m_1} (4-3\epsilon)\sigma T^5 \approx 1.1\cdot 10^{-45}AT^5
\label{eqn:photon collision power}
\end{equation}
The noise coupled to the torsional pendulum is composed of Brownian motion, acoustic waves and black body radiation. When the environment is at room temperature with low pressure, and without distinguishable acoustic noises, the coupled noise is mainly composed of Brownian motion collisions $p_{eff}\approx 4.4\cdot 10^{-25}  [W]$. Thus, with the right conditions it might be possible to reach a damped amplitude of $\theta_{max}^{PID}\approx 2\cdot 10^{-14}$ (achieved from calculating the Brownian noise effect on the Q factor).

\subsection{Gravitational measurements}
The PID damping process is damping the torsional pendulum amplitude. When the PID damping process is damping the torsional pendulum amplitude below the temperature quantum uncertainty (eq.~\ref{eqn:Brownian uncertainty 3}), the torsional pendulum temperature is effectively lowered by the damping process.
\par\noindent
As shown in chap.~\ref{chapter:Theoretical background} the gravimetric measurement is conducted by measuring the average equilibrium angle of the torsional pendulum. The measurement is limited by the temperature quantum uncertainty. The temperature quantum uncertainty is lowered due to the damping process, thus the gravimetric measurement is given by:
\begin{equation}
\frac{M}{r_0^3} \approx \frac{\overline{\theta}\pm \delta\theta}{\frac{3GT^2cos\theta sin\theta}{4\pi^2 }} \approx 5\cdot 10^{7}\cdot \overline{\theta}\pm 5\cdot 10^{7}\cdot \theta_{max}^{PID}
\label{eqn:measurement resolution}
\end{equation}
Assuming a measured mass $M$ at a given distance of $r_0 = 1[m]$, the measurement sensitivity at room temperature is limited to $M\geq 5\cdot 10^{7}\cdot \theta_{max}^{PID}\approx 2[kg]$. The resolution limit is proportional to the damped amplitude, and thus lowered when reaching lower damped amplitudes.


\end{document}